<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>

        <ui:composition template="./counts.xhtml">

            <ui:define name="report">
                <h:form >

                    <div class="card" >
                        <div class="card-header" >
                            <h3>Registrations</h3>
                        </div>
                        <div class="card-body" >
                            <div class="row" >
                                <div class="col-4" >
                                    From
                                </div>
                                <div class="col-2" >
                                </div>
                                <div class="col-4" >
                                    <p:calendar value="#{hospitalController.fromDate}" 
                                                pattern="dd MM yyyy HH:mm a" >
                                    </p:calendar>
                                </div>
                            </div>
                            <div class="row" >
                                <div class="col-4" >
                                    To
                                </div>
                                <div class="col-2" >

                                </div>
                                <div class="col-4" >
                                    <p:calendar value="#{hospitalController.toDate}" 
                                                pattern="dd MM yyyy HH:mm a" >
                                    </p:calendar>
                                </div>
                            </div>
                            <div class="row" >
                                <div class="col-4" >
                                    Institution
                                </div>
                                <div class="col-2" >

                                </div>
                                <div class="col-4" >
                                    <h:selectOneMenu value="#{hospitalController.institution}" >
                                        <f:selectItem itemLabel="All" ></f:selectItem>
                                        <f:selectItems value="#{webUserController.loggableInstitutions}"
                                                       var="i" itemLabel="#{i.name}" itemValue="#{i}"  ></f:selectItems>
                                    </h:selectOneMenu>
                                </div>
                            </div>
                            <div class="row" >
                                <div class="col-4" >

                                </div>
                                <div class="col-2" >

                                </div>
                                <div class="col-4" >
                                    <h:commandButton value="Process" class="btn btn-primary fullWidth"
                                                     action="#{hospitalController.calculateClientRegistrations()}">
                                    </h:commandButton>
                                </div>
                            </div>


                            <div class="row" >
                                <div class="col-4" >
                                    Count
                                </div>
                                <div class="col-2" >

                                </div>
                                <div class="col-4" >
                                    <h:outputText value="#{hospitalController.count}" ></h:outputText>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer" >

                        </div>
                    </div>




                </h:form>

            </ui:define>

        </ui:composition>

    </body>
</html>
